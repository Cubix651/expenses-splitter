<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="215px" preserveAspectRatio="none" style="width:1883px;height:215px;" version="1.1" viewBox="0 0 1883 215" width="1883px" zoomAndPan="magnify"><defs><filter height="300%" id="f3woapahxind4" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[4342c1929355372c38edb08b36b06e12]
class IBalancesProvider--><rect codeLine="1" fill="#FEFECE" filter="url(#f3woapahxind4)" height="60.8047" id="IBalancesProvider" style="stroke:#A80036;stroke-width:1.5;" width="378" x="404" y="7"/><ellipse cx="535.75" cy="23" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M536.7031,19.7813 L538.4219,19.7813 C538.8125,19.7813 539,19.75 539.125,19.6719 C539.3906,19.5156 539.5313,19.2344 539.5313,18.9375 C539.5313,18.6719 539.4219,18.4063 539.1875,18.2344 C539.0156,18.125 538.875,18.0938 538.4219,18.0938 L533.2813,18.0938 C532.8438,18.0938 532.7188,18.1094 532.5625,18.2031 C532.3125,18.3594 532.1563,18.6563 532.1563,18.9375 C532.1563,19.2188 532.2969,19.4688 532.5156,19.6406 C532.6719,19.75 532.8594,19.7813 533.2813,19.7813 L535,19.7813 L535,26.2969 L533.2813,26.2969 C532.8438,26.2969 532.7188,26.3125 532.5625,26.4219 C532.3125,26.5781 532.1563,26.8594 532.1563,27.1563 C532.1563,27.4063 532.2969,27.6719 532.5156,27.8281 C532.6719,27.9531 532.875,28 533.2813,28 L538.4219,28 C539.1719,28 539.5313,27.7188 539.5313,27.1563 C539.5313,26.875 539.4219,26.625 539.1875,26.4531 C539.0156,26.3281 538.875,26.2969 538.4219,26.2969 L536.7031,26.2969 L536.7031,19.7813 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="106" x="556.25" y="27.1543">IBalancesProvider</text><line style="stroke:#A80036;stroke-width:1.5;" x1="405" x2="781" y1="39" y2="39"/><line style="stroke:#A80036;stroke-width:1.5;" x1="405" x2="781" y1="47" y2="47"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="366" x="410" y="61.2104">GetBalances(settlementId:string) : IReadOnlyList&lt;UserBalance&gt;</text><!--MD5=[b28cdcafcdf4e1247b6ac680b539eb4b]
class BalancesProvider--><rect codeLine="4" fill="#FEFECE" filter="url(#f3woapahxind4)" height="73.6094" id="BalancesProvider" style="stroke:#A80036;stroke-width:1.5;" width="1172" x="7" y="128"/><ellipse cx="536.75" cy="144" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M539.0938,139.6719 C538.1563,139.2344 537.5625,139.0938 536.6875,139.0938 C534.0625,139.0938 532.0625,141.1719 532.0625,143.8906 L532.0625,145.0156 C532.0625,147.5938 534.1719,149.4844 537.0625,149.4844 C538.2813,149.4844 539.4375,149.1875 540.1875,148.6406 C540.7656,148.2344 541.0938,147.7813 541.0938,147.3906 C541.0938,146.9375 540.7031,146.5469 540.2344,146.5469 C540.0156,146.5469 539.8125,146.625 539.625,146.8125 C539.1719,147.2969 539.1719,147.2969 538.9844,147.3906 C538.5625,147.6563 537.875,147.7813 537.1094,147.7813 C535.0625,147.7813 533.7656,146.6875 533.7656,144.9844 L533.7656,143.8906 C533.7656,142.1094 535.0156,140.7969 536.75,140.7969 C537.3281,140.7969 537.9375,140.9531 538.4063,141.2031 C538.8906,141.4844 539.0625,141.7031 539.1563,142.1094 C539.2188,142.5156 539.25,142.6406 539.3906,142.7656 C539.5313,142.9063 539.7656,143.0156 539.9844,143.0156 C540.25,143.0156 540.5156,142.875 540.6875,142.6563 C540.7969,142.5 540.8281,142.3125 540.8281,141.8906 L540.8281,140.4688 C540.8281,140.0313 540.8125,139.9063 540.7188,139.75 C540.5625,139.4844 540.2813,139.3438 539.9844,139.3438 C539.6875,139.3438 539.4844,139.4375 539.2656,139.75 L539.0938,139.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="104" x="557.25" y="148.1543">BalancesProvider</text><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="1178" y1="160" y2="160"/><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="1178" y1="168" y2="168"/><ellipse cx="18" cy="179" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="1146" x="27" y="182.2104">BalancesProvider(expensesRepository:IExpensesRepository, settlementUsersRepository:ISettlementUsersRepository, logger:ILogger&lt;BalancesProvider&gt;, transactionsRepository:ITransactionsRepository)</text><ellipse cx="18" cy="191.8047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="366" x="27" y="195.0151">GetBalances(settlementId:string) : IReadOnlyList&lt;UserBalance&gt;</text><!--MD5=[b4dcdb413dde3ff1b8306705dcf52a59]
class ISettlementSolutionProvider--><rect codeLine="9" fill="#FEFECE" filter="url(#f3woapahxind4)" height="60.8047" id="ISettlementSolutionProvider" style="stroke:#A80036;stroke-width:1.5;" width="464" x="1310" y="7"/><ellipse cx="1453.25" cy="23" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1454.2031,19.7813 L1455.9219,19.7813 C1456.3125,19.7813 1456.5,19.75 1456.625,19.6719 C1456.8906,19.5156 1457.0313,19.2344 1457.0313,18.9375 C1457.0313,18.6719 1456.9219,18.4063 1456.6875,18.2344 C1456.5156,18.125 1456.375,18.0938 1455.9219,18.0938 L1450.7813,18.0938 C1450.3438,18.0938 1450.2188,18.1094 1450.0625,18.2031 C1449.8125,18.3594 1449.6563,18.6563 1449.6563,18.9375 C1449.6563,19.2188 1449.7969,19.4688 1450.0156,19.6406 C1450.1719,19.75 1450.3594,19.7813 1450.7813,19.7813 L1452.5,19.7813 L1452.5,26.2969 L1450.7813,26.2969 C1450.3438,26.2969 1450.2188,26.3125 1450.0625,26.4219 C1449.8125,26.5781 1449.6563,26.8594 1449.6563,27.1563 C1449.6563,27.4063 1449.7969,27.6719 1450.0156,27.8281 C1450.1719,27.9531 1450.375,28 1450.7813,28 L1455.9219,28 C1456.6719,28 1457.0313,27.7188 1457.0313,27.1563 C1457.0313,26.875 1456.9219,26.625 1456.6875,26.4531 C1456.5156,26.3281 1456.375,26.2969 1455.9219,26.2969 L1454.2031,26.2969 L1454.2031,19.7813 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="169" x="1473.75" y="27.1543">ISettlementSolutionProvider</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1311" x2="1773" y1="39" y2="39"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1311" x2="1773" y1="47" y2="47"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="452" x="1316" y="61.2104">GetSolutionTransactions(settlementId:string) : ICollection&lt;SolutionTransaction&gt;</text><!--MD5=[69941e5f5b5e5468c9c7e075ecd3fab2]
class SettlementSolutionProvider--><rect codeLine="12" fill="#FEFECE" filter="url(#f3woapahxind4)" height="73.6094" id="SettlementSolutionProvider" style="stroke:#A80036;stroke-width:1.5;" width="655" x="1214.5" y="128"/><ellipse cx="1456.25" cy="144" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1458.5938,139.6719 C1457.6563,139.2344 1457.0625,139.0938 1456.1875,139.0938 C1453.5625,139.0938 1451.5625,141.1719 1451.5625,143.8906 L1451.5625,145.0156 C1451.5625,147.5938 1453.6719,149.4844 1456.5625,149.4844 C1457.7813,149.4844 1458.9375,149.1875 1459.6875,148.6406 C1460.2656,148.2344 1460.5938,147.7813 1460.5938,147.3906 C1460.5938,146.9375 1460.2031,146.5469 1459.7344,146.5469 C1459.5156,146.5469 1459.3125,146.625 1459.125,146.8125 C1458.6719,147.2969 1458.6719,147.2969 1458.4844,147.3906 C1458.0625,147.6563 1457.375,147.7813 1456.6094,147.7813 C1454.5625,147.7813 1453.2656,146.6875 1453.2656,144.9844 L1453.2656,143.8906 C1453.2656,142.1094 1454.5156,140.7969 1456.25,140.7969 C1456.8281,140.7969 1457.4375,140.9531 1457.9063,141.2031 C1458.3906,141.4844 1458.5625,141.7031 1458.6563,142.1094 C1458.7188,142.5156 1458.75,142.6406 1458.8906,142.7656 C1459.0313,142.9063 1459.2656,143.0156 1459.4844,143.0156 C1459.75,143.0156 1460.0156,142.875 1460.1875,142.6563 C1460.2969,142.5 1460.3281,142.3125 1460.3281,141.8906 L1460.3281,140.4688 C1460.3281,140.0313 1460.3125,139.9063 1460.2188,139.75 C1460.0625,139.4844 1459.7813,139.3438 1459.4844,139.3438 C1459.1875,139.3438 1458.9844,139.4375 1458.7656,139.75 L1458.5938,139.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="163" x="1476.75" y="148.1543">SettlementSolutionProvider</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1215.5" x2="1868.5" y1="160" y2="160"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1215.5" x2="1868.5" y1="168" y2="168"/><ellipse cx="1225.5" cy="179" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="629" x="1234.5" y="182.2104">SettlementSolutionProvider(balancesProvider:IBalancesProvider, logger:ILogger&lt;SettlementSolutionProvider&gt;)</text><ellipse cx="1225.5" cy="191.8047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="452" x="1234.5" y="195.0151">GetSolutionTransactions(settlementId:string) : ICollection&lt;SolutionTransaction&gt;</text><!--MD5=[f7d5ab8cea4ed32eb945c2ba35935369]
reverse link IBalancesProvider to BalancesProvider--><path codeLine="8" d="M593,88.505 C593,101.621 593,115.5128 593,127.7555 " fill="none" id="IBalancesProvider-backto-BalancesProvider" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="586,88.242,593,68.242,600,88.242,586,88.242" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[0c21fb43190e317e38fb0452d66610a6]
reverse link ISettlementSolutionProvider to SettlementSolutionProvider--><path codeLine="16" d="M1542,88.505 C1542,101.621 1542,115.5128 1542,127.7555 " fill="none" id="ISettlementSolutionProvider-backto-SettlementSolutionProvider" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="1535,88.242,1542,68.242,1549,88.242,1535,88.242" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[714f73af01f8f093447ce5212f02024c]
@startuml
interface IBalancesProvider {
    GetBalances(settlementId:string) : IReadOnlyList<UserBalance>
}
class BalancesProvider {
    + BalancesProvider(expensesRepository:IExpensesRepository, settlementUsersRepository:ISettlementUsersRepository, logger:ILogger<BalancesProvider>, transactionsRepository:ITransactionsRepository)
    + GetBalances(settlementId:string) : IReadOnlyList<UserBalance>
}
IBalancesProvider <|- - BalancesProvider
interface ISettlementSolutionProvider {
    GetSolutionTransactions(settlementId:string) : ICollection<SolutionTransaction>
}
class SettlementSolutionProvider {
    + SettlementSolutionProvider(balancesProvider:IBalancesProvider, logger:ILogger<SettlementSolutionProvider>)
    + GetSolutionTransactions(settlementId:string) : ICollection<SolutionTransaction>
}
ISettlementSolutionProvider <|- - SettlementSolutionProvider
@enduml

PlantUML version 1.2021.01beta3(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>